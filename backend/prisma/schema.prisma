generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "debian-openssl-3.0.x", "rhel-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["lovable", "public"]
}

// Tabela 1: Login de Usuários
model AppsUsuarios {
  id           String    @id @default(uuid())
  nome         String?
  email        String?
  login        String?
  senha        String? // Hash bcrypt
  cargo        String?
  ci           Boolean?  @default(false)
  pfo          Boolean?  @default(false)
  comercial    Boolean?  @default(false)
  ronda        Boolean?  @default(false)
  reuniao      Boolean?  @default(false) // Permissão reuniões
  data_criacao DateTime? @default(now()) @db.Date
  area         String?   @db.Text

  @@map("apps_usuarios")
  @@schema("lovable")
}

// Tabela 2: Reuniões de Governança
model EppReunioesGovernanca {
  id                       String    @id @default(uuid())
  conference_id            String    @unique // PK funcional
  data_reuniao             DateTime? @db.Date
  hora_inicio              String?
  hora_fim                 String?
  responsavel              String?
  anotacao                 String?
  transcricao              String?
  link_anotacao            String?
  link_transcricao         String?
  link_gravacao            String?
  ata                      String?   @db.Text
  ata_pdf_link             String?
  ata_link_download        String?
  titulo_reuniao           String?
  local_meio               String?
  participantes_nomes      String?
  participantes_areas      String?
  objetivo_reuniao         String?   @db.Text
  itens_pauta_titulos      String?
  itens_pauta_completo     String?   @db.Text
  deliberacoes_titulos     String?
  deliberacoes_discussoes  String?   @db.Text
  deliberacoes_decisoes    String?   @db.Text
  acoes_lista              String?   @db.Text
  acoes_responsaveis       String?   @db.Text
  proximas_etapas          String?   @db.Text
  resumo_executivo         String?   @db.Text

  @@map("epp_reunioes_governanca")
  @@schema("public")
}
